---
date: "2019-11-28:00:00+02:00"
title: "Шаблонные Репозитории"
slug: "template-repositories"
weight: 14
toc: true
draft: false
menu:
  sidebar:
    parent: "usage"
    name: "Шаблонные Репозитории"
    weight: 14
    identifier: "template-repositories"
---

## Шаблонные Репозитории
Gitea `1.11.0` и выше включает шаблонные репозитории, и одна функция, реализованная с их помощью, - это автоматическое расширение определенных переменных в ваших файлах шаблонов.  
Чтобы указать Gitea, какие файлы следует расширять, вы должны включить файл `template` в каталог`.gitea` шаблонного репозитория.  
Gitea использует [gobwas/glob](https://github.com/gobwas/glob) за его глобальный синтаксис. Он очень похож на традиционный `.gitignore`, но могут иметь небольшие отличия.

### Образцовый файл `.gitea/template`  
Все пути указаны относительно базы репозитория
```gitignore
# All .go files, anywhere in the repository
**.go

# All text files in the text directory
text/*.txt

# A specific file
a/b/c/d.json

# Batch files in both upper or lower case can be matched
**.[bB][aA][tT]
```
**ПРИМЕЧАНИЕ:** Файл `template` будет удалён из каталога `.gitea` при создании репозитория из шаблона.

### Вариативное расширение
В любом файле, соответствующем указанным выше globs'ам, некоторые переменные будут раскрыты. 
Все переменные должны иметь форму `$VAR` или` ${VAR}`. Чтобы избежать раскрытия, используйте двойной `$$`, например, `$$VAR` или `$${VAR}`

| Переменная           | Расширяется до                                      | Трансформируемая |
|----------------------|-----------------------------------------------------|---------------|
| REPO_NAME            | Имени созданного репозитория                        | ✓             |
| TEMPLATE_NAME        | Имени шаблонного репозитория                        | ✓             |
| REPO_DESCRIPTION     | Описания созданного репозитория                     | ✘             |
| TEMPLATE_DESCRIPTION | Описания шаблонного репозитория                     | ✘             |
| REPO_OWNER           | Владельца сгенерированного репозитория              | ✓             |
| TEMPLATE_OWNER       | Владельца шаблонного репозитория                    | ✓             |
| REPO_LINK            | URL-адреса сгенерированного репозитория             | ✘             |
| TEMPLATE_LINK        | URL-адреса шаблонного репозитория                   | ✘             |
| REPO_HTTPS_URL       | Ссылки на клон HTTP для созданного репозитория      | ✘             |
| TEMPLATE_HTTPS_URL   | Ссылки на клон HTTP для шаблонного репозитория      | ✘             |
| REPO_SSH_URL         | Ссылки на клон SSH для созданного репозитория       | ✘             |
| TEMPLATE_SSH_URL     | Ссылки на клон SSH для шаблонного репозитория       | ✘             |

### Трансформеры :robot:
Gitea `1.12.0` добавляет несколько преобразователей к некоторым из применимых переменных, указанных выше.  
Например, чтобы получить `REPO_NAME` в случае `PASCAL`, ваш шаблон будет использовать `${REPO_NAME_PASCAL}`

Кормление `go-sdk` на доступные трансформаторы даёт...

| Трансформер | Эффект     |
|-------------|------------|
| SNAKE       | go_sdk     |
| KEBAB       | go-sdk     |
| CAMEL       | goSdk      |
| PASCAL      | GoSdk      |
| LOWER       | go-sdk     |
| UPPER       | GO-SDK     |
| TITLE       | Go-Sdk     |

