---
date: "2016-12-26T16:00:00+02:00"
title: "Памятка по конфигурации"
slug: "config-cheat-sheet"
weight: 20
toc: false
draft: false
menu:
  sidebar:
    parent: "advanced"
    name: "Памятка по конфигурации"
    weight: 20
    identifier: "config-cheat-sheet"
---

# Памятка по конфигурации

Это памятка для файла конфигурации Gitea. Он содержит большинство параметров,
которые можно настроить, а также их значения по умолчанию.

Любые изменения в файле конфигурации Gitea следует вносить в
`custom/conf/app.ini` или в любое соответствующее место. При установке
из дистрибутива его обычно можно найти в `/etc/gitea/conf/app.ini`.

Приведённые здесь значения по умолчанию являются оптимальными (не создаются автоматически). Они
точно записаны в [app.example.ini](https://github.com/go-gitea/gitea/blob/master/custom/conf/app.example.ini)
(s/master/\<tag|release\>). Любая строка в формате `% (X) s` является функцией,
поддерживаемой [ini](https://github.com/go-ini/ini/#recursive-values), для рекурсивного чтения значений.

Значения, содержащие `#` или `;`, должны быть заключены в кавычки с использованием `` ` `` или `"""`.

**Примечание:** Чтобы изменения конфигурации Gitea вступили в силу, требуется полный перезапуск.

## Overall (`DEFAULT`)

- `APP_NAME`: **Gitea: Git with a cup of tea**: Название приложения, используемое в заголовке страницы.
- `RUN_USER`: **git**: Пользователь Gitea будет запускаться как. Это должна быть выделенная системная
   (не пользовательская) учётная запись. Неправильная установка приведет к тому, что Gitea не запустится.
- `RUN_MODE`: **dev**: Для повышения производительности и других целей измените это значение на `prod` при
   развёртывании в производственной среде. Процесс установки автоматически
   установит для него значение `prod`. \[prod, dev, test\]

## Репозиторий (`repository`)

- `ROOT`: **~/gitea-repositories/**: Корневой путь для хранения всех данных репозитория. Это должен быть
   абсолютный путь.
- `SCRIPT_TYPE`: **bash**: Тип скрипта, который поддерживает этот сервер. Обычно это `bash`,
   но некоторые пользователи сообщают, что доступен только `sh`.
- `DETECTED_CHARSETS_ORDER`: **UTF-8, UTF-16BE, UTF-16LE, UTF-32BE, UTF-32LE, ISO-8859, windows-1252, ISO-8859, windows-1250, ISO-8859, ISO-8859, ISO-8859, windows-1253, ISO-8859, windows-1255, ISO-8859, windows-1251, windows-1256, KOI8-R, ISO-8859, windows-1254, Shift_JIS, GB18030, EUC-JP, EUC-KR, Big5, ISO-2022, ISO-2022, ISO-2022, IBM424_rtl, IBM424_ltr, IBM420_rtl, IBM420_ltr**: Тай-брейк для обнаруженных наборов символов - если обнаруженные наборы символов имеют одинаковую степень достоверности, наборы символов, находящиеся раньше в списке, будут выбраны вместо более поздних. Добавление значений по умолчанию поместит в эту точку безымянные наборы символов.
- `ANSI_CHARSET`: **\<empty\>**: Кодировка ANSI по умолчанию для замены кодировки, отличной от UTF-8.
- `FORCE_PRIVATE`: **false**: Сделайте каждый новый репозиторий закрытым.
- `DEFAULT_PRIVATE`: **last**: По умолчанию закрытый при создании нового репозитория.
   \[last, private, public\]
- `MAX_CREATION_LIMIT`: **-1**: Глобальный максимальный лимит создания репозиториев на пользователя,
   `-1` означает без ограничений.
- `PULL_REQUEST_QUEUE_LENGTH`: **1000**: Длина очереди тестирования патча pull request'а, сделайте её
   как можно больше. Будьте осторожны при редактировании этого значения.
- `MIRROR_QUEUE_LENGTH`: **1000**: Длина очереди тестирования патча. Увеличьте, если тестировочный патч pull request'а
   начинает зависать.
- `PREFERRED_LICENSES`: **Apache License 2.0,MIT License**: Предпочтительные лицензии, которые
   будут размещать вверху списка. Имя должно соответствовать имени файла в conf/license or custom/conf/license.
- `DISABLE_HTTP_GIT`: **false**: Отключите возможность взаимодействия с репозиториями по
   протоколу HTTP.
- `USE_COMPAT_SSH_URI`: **false**: Принудительно использовать клонирование url'а ssh:// вместо scp-style uri, когда
   используется порт SSH по умолчанию.
- `ACCESS_CONTROL_ALLOW_ORIGIN`: **\<empty\>**: Значение для заголовка Access-Control-Allow-Origin,
   по умолчанию не присутствует. **ВНИМАНИЕ**: Это может нанести вред вашему сайту, если вы
   не укажете ему правильное значение.
- `DEFAULT_CLOSE_ISSUES_VIA_COMMITS_IN_ANY_BRANCH`:  **false**: Закройте задачу, если коммит в ветке не по умолчанию помечает её как закрытую.
- `ENABLE_PUSH_CREATE_USER`:  **false**: Разрешить пользователям отправлять локальные репозитории в Gitea и автоматически создавать их для пользователя.
- `ENABLE_PUSH_CREATE_ORG`:  **false**: Разрешить пользователям отправлять локальные репозитории в Gitea и автоматически создавать их для организации.
- `PREFIX_ARCHIVE_FILES`: **true**: Префиксируйте файлы архива, поместив их в каталог с именем репозитория.
- `DISABLE_MIRRORS`: **false**: Отключите создание **новых** зеркал. Существующие ранее зеркала остаются в силе.
- `DEFAULT_BRANCH`: **master**: Имя ветки по умолчанию для всех репозиториев.

### Репозиторий - Pull Request (`repository.pull-request`)

- `WORK_IN_PROGRESS_PREFIXES`: **WIP:,\[WIP\]**: Список префиксов, используемых в заголовке Pull Request'а,
 чтобы пометить их как выполняемые
- `CLOSE_KEYWORDS`: **close**, **closes**, **closed**, **fix**, **fixes**, **fixed**, **resolve**, **resolves**, **resolved**: Список
 ключевых слов, используемых в комментариях Pull Request для автоматического закрытия связанной задачи
- `REOPEN_KEYWORDS`: **reopen**, **reopens**, **reopened**: Список ключевых слов, используемых в комментариях Pull Request'а для
 автоматического повторного открытия связанной проблемы
- `DEFAULT_MERGE_MESSAGE_COMMITS_LIMIT`: **50**: В сообщение слияния по умолчанию для squash-коммитов включается не более этого количества коммитов. Установите `-1`, чтобы включить все коммиты
- `DEFAULT_MERGE_MESSAGE_SIZE`: **5120**: В сообщении слияния по умолчанию для squash-коммитов ограничьте размер сообщений коммита. Установите `-1`, чтобы не было ограничений.
- `DEFAULT_MERGE_MESSAGE_ALL_AUTHORS`: **false**: В сообщении слияния по умолчанию для squash-коммитов пройдите все коммиты, чтобы включить всех авторов в Соавтор, в противном случае просто используйте их в ограниченном списке.
- `DEFAULT_MERGE_MESSAGE_MAX_APPROVERS`: **10**: По умолчанию сообщения слияния ограничивают количество утверждающих, перечисленных как `Reviewed-by:`. Установите `-1`, чтобы включить все.
- `DEFAULT_MERGE_MESSAGE_OFFICIAL_APPROVERS_ONLY`: **true**: По умолчанию сообщения слияния включают только утверждающих лиц, которым официально разрешено просматривать.

### Репозиторий - Задача (`repository.issue`)

- `LOCK_REASONS`: **Too heated,Off-topic,Resolved,Spam**: Список причин, по которым Pull Request или задача могут быть заблокированы

### Репозиторий - Вход (`repository.signing`)

- `SIGNING_KEY`: **default**: \[none, KEYID, default \]: Ключ для входа.
- `SIGNING_NAME` &amp; `SIGNING_EMAIL`: если KEYID предоставлен как `SIGNING_KEY`, используйте их в качестве имени и адреса электронной почты подписывающей стороны. Они должны совпадать с опубликованным именем и адресом электронной почты для ключа.
- `INITIAL_COMMIT`: **always**: \[never, pubkey, twofa, always\]: Первоначальный вход коммита.
  - `never`: Никогда не входить
  - `pubkey`: Вход только если у пользователя есть открытый ключ
  - `twofa`: Вход только если пользователь вошёл в систему с двумя
  - `always`: Всегда входить
  - Опции, отличные от `never` и `always`, могут быть объединены в список, разделённый запятыми.
- `DEFAULT_TRUST_MODEL`: **collaborator**: \[collaborator, committer, collaboratorcommitter\]: Модель доверия по умолчанию, используемая для проверки коммитов.
   - `collaborator`: Доверенные подписи, подписанные ключами соавторов.
   - `committer`: Доверяйте подписям, которые соответствуют коммитерам (это соответствует GitHub и заставит подписанные Gitea коммиты иметь Gitea в качестве коммиттера).
   - `collaboratorcommitter`: Подписи доверия, подписанные ключами соавторов, которые соответствуют пригородному.
- `WIKI`: **never**: \[never, pubkey, twofa, always, parentsigned\]: Вход коммитов на вики.
- `CRUD_ACTIONS`: **pubkey, twofa, parentsigned**: \[never, pubkey, twofa, parentsigned, always\]: Вход действия CRUD.
  - Параметры, как указано выше, с добавлением:
  - `parentsigned`: Вход только если подписан родительский коммит.
- `MERGES`: **pubkey, twofa, basesigned, commitssigned**: \[never, pubkey, twofa, approved, basesigned, commitssigned, always\]: Вход слияния.
  - `approved`: Вход только утверждённых слияний с защищённой веткой.
  - `basesigned`: Вход только если родительский коммит в базовом репо подписан.
  - `headsigned`: Вход только если подписан главный коммит в головной ветви.
  - `commitssigned`: Вход только если подписаны все коммиты в головной ветви до точки слияния.

## CORS (`cors`)

- `ENABLED`: **false**: включить заголовки cors (по умолчанию отключено)
- `SCHEME`: **http**: схема разрешённых запросов
- `ALLOW_DOMAIN`: **\***: список разрешённых запрашивающих доменов
- `ALLOW_SUBDOMAIN`: **false**: разрешить субдоменам заголовков, перечисленных выше, запрашивать
- `METHODS`: **GET,HEAD,POST,PUT,PATCH,DELETE,OPTIONS**: список методов, разрешённых для запроса
- `MAX_AGE`: **10m**: максимальное время кеширования ответа
- `ALLOW_CREDENTIALS`: **false**: разрешить запрос с учётными данными

## Пользовательский интерфейс (`ui`)

- `EXPLORE_PAGING_NUM`: **20**: Количество репозиториев, отображаемых на одной странице обзора.
- `ISSUE_PAGING_NUM`: **10**: Количество задач, отображаемых на одной странице (для всех страниц со списком задач).
- `MEMBERS_PAGING_NUM`: **20**: Количество участников, отображаемых в членах организации.
- `FEED_MAX_COMMIT_NUM`: **5**: Максимальное количество коммитов, отображаемое в одном ленте действий.
- `FEED_PAGING_NUM`: **20**: Количество элементов, отображаемых в домашней ленте.
- `GRAPH_MAX_COMMIT_NUM`: **100**: Количество максимальных коммитов, показанное на графике коммитов.
- `DEFAULT_THEME`: **gitea**: \[gitea, arc-green\]: Установите тему по умолчанию для установки Gitea.
- `THEMES`:  **gitea,arc-green**: Все доступные темы. Разрешить пользователям выбирать персонализированные
   темы независимо от значения `DEFAULT_THEME`.
- `REACTIONS`: Все доступные реакции пользователи могут выбирать по задачам/pull request'ам и комментариям.
   Значения могут быть псевдонимом эмодзи (:smile:) или эмодзи в формате Unicode.
    Для нестандартной реакции добавьте плотно обрезанное квадратное изображение в public/emoji/img/reaction_name.png
- `DEFAULT_SHOW_FULL_NAME`: **false**: Следует ли отображать полное имя пользователей, где это возможно. Если полное имя не указано, будет использоваться имя пользователя.
- `SEARCH_REPO_DESCRIPTION`: **true**: Следует ли выполнять поиск по описанию при поиске в репозитории на странице обзора.
- `USE_SERVICE_WORKER`: **true**: Разрешить ли Service Worker кэшировать ресурсы внешнего интерфейса.

### Пользовательский интерфейс - Админ (`ui.admin`)

- `USER_PAGING_NUM`: **50**: Количество пользователей, отображаемых на одной странице.
- `REPO_PAGING_NUM`: **50**: Количество репозиториев, отображаемых на одной странице.
- `NOTICE_PAGING_NUM`: **25**: Количество объявлений, отображаемых на одной странице.
- `ORG_PAGING_NUM`: **50**: Количество организаций, отображаемых на одной странице.

### Пользовательский интерфейс - Уведомление (`ui.notification`)

- `MIN_TIMEOUT`: **10s**: Эти параметры управляют частотой опроса конечной точки уведомлений для обновления счётчика уведомлений. При загрузке страницы счётчик уведомлений будет проверяться после `MIN_TIMEOUT`. Тайм-аут увеличится до `MAX_TIMEOUT` на `TIMEOUT_STEP`, если счётчик уведомлений не изменился. Установите MIN_TIMEOUT на 0, чтобы выключить.
- `MAX_TIMEOUT`: **60s**.
- `TIMEOUT_STEP`: **10s**.
- `EVENT_SOURCE_UPDATE_TIME`: **10s**: Этот параметр определяет, как часто база данных запрашивается для обновления счётчиков уведомлений. Если клиент браузера поддерживает `EventSource` и `SharedWorker`, вместо опроса конечной точки уведомлений будет использоваться `SharedWorker`. Установите **-1**, чтобы отключить `EventSource`.

## Markdown (`markdown`)

- `ENABLE_HARD_LINE_BREAK_IN_COMMENTS`: **true**: Отрисовывать мягкие разрывы строк как жёсткие разрывы строк в комментариях,
  что означает, что один символ новой строки между абзацами вызовет разрыв строки, и добавление конечных пробелов в абзацы
  не обязательно для принудительного разрыва строки.
- `ENABLE_HARD_LINE_BREAK_IN_DOCUMENTS`: **false**: Отрисовывать мягкие разрывы строк как жесткие в документах,
  что означает, что один символ новой строки между абзацами вызовет разрыв строки, и добавление конечных
  пробелов в абзацы не обязательно для принудительного разрыва строки.
- `CUSTOM_URL_SCHEMES`: Используйте список, разделенный запятыми (ftp, git, svn), чтобы
  указать дополнительные гиперссылки URL, которые будут отображаться в Markdown.
  URL-адреса, начинающиеся с http и https, отображаются всегда

## Сервер (`server`)

- `PROTOCOL`: **http**: \[http, https, fcgi, unix, fcgi+unix\]
- `DOMAIN`: **localhost**: Доменное имя этого сервера.
- `ROOT_URL`: **%(PROTOCOL)s://%(DOMAIN)s:%(HTTP\_PORT)s/**:
   Замените автоматически созданный общедоступный URL.
   Это полезно, если внутренний и внешний URL-адреса не совпадают (например, в Docker).
- `STATIC_URL_PREFIX`: **\<empty\>**:
   Замените этот параметр, чтобы запрашивать статические ресурсы с другого URL-адреса.
   Сюда входят файлы CSS, изображения, файлы JS и веб-шрифты.
   Изображения аватаров являются динамическими ресурсами и по-прежнему обслуживаются gitea.
   Параметр может быть просто другим путём, как в `/static`, или другим доменом, как в `https://cdn.example.com`.
   Запросы затем делаются как  `%(ROOT_URL)s/static/css/index.css` и`https://cdn.example.com/css/index.css` соответственно.
   Статические файлы находятся в каталоге `public/` репозитория исходных текстов gitea.
- `HTTP_ADDR`: **0.0.0.0**: Адрес прослушивания HTTP.
   - Если для параметра `PROTOCOL` установлено значение `fcgi`, Gitea будет прослушивать запросы
     FastCGI на сокете TCP, определённом параметрами конфигурации `HTTP_ADDR` и `HTTP_PORT`.
   - Если для параметра `PROTOCOL` установлено значение `unix` или `fcgi+unix`, это должно быть имя используемого файла сокета Unix.
- `HTTP_PORT`: **3000**: Порт прослушивания HTTP.
   - Если для параметра `PROTOCOL` установлено значение `fcgi`, Gitea будет прослушивать
    запросы FastCGI на сокете TCP, определённом параметрами конфигурации `HTTP_ADDR` и `HTTP_PORT`.
- `UNIX_SOCKET_PERMISSION`: **666**: Разрешения для сокета Unix.
- `LOCAL_ROOT_URL`: **%(PROTOCOL)s://%(HTTP_ADDR)s:%(HTTP_PORT)s/**: Локальный
  (DMZ) URL-адрес для рабочих Gitea (таких как обновление SSH), обращающихся к веб-сервису. В
  большинстве случаев изменять значение по умолчанию не требуется. Измените его, только если
  ваш узел SSH-сервера не совпадает с узлом HTTP. Не устанавливайте эту переменную, если для
  параметра `PROTOCOL` установлено значение `unix`.
- `DISABLE_SSH`: **false**: Отключите функцию SSH, если она недоступна.
- `START_SSH_SERVER`: **false**: Если включено, использует встроенный SSH-сервер.
- `SSH_DOMAIN`: **%(DOMAIN)s**: Доменное имя этого сервера, используемое для отображаемого URL-адреса клона.
- `SSH_PORT`: **22**: Порт SSH отображается в URL-адресе клона.
- `SSH_LISTEN_HOST`: **0.0.0.0**: Адрес прослушивания для встроенного SSH-сервера.
- `SSH_LISTEN_PORT`: **%(SSH\_PORT)s**: Порт для встроенного SSH-сервера.
- `OFFLINE_MODE`: **false**: Отключает использование CDN для статических файлов и Gravatar для изображений профиля.
- `DISABLE_ROUTER_LOG`: **false**: Отключить печать журнала маршрутизатора.
- `CERT_FILE`: **https/cert.pem**: Путь к файлу сертификата, используемый для HTTPS. От 1.11 пути относительно `CUSTOM_PATH`.
- `KEY_FILE`: **https/key.pem**: Путь к ключевому файлу, используемый для HTTPS. От 1.11 пути относительно `CUSTOM_PATH`.
- `STATIC_ROOT_PATH`: **./**: Верхний уровень шаблона и путь к статическим файлам.
- `STATIC_CACHE_TIME`: **6h**: Время кеширования веб-браузера для статических ресурсов на `custom/`, `public/` и всех загруженных аватарах.
- `ENABLE_GZIP`: **false**: Включает поддержку GZIP на уровне приложения.
- `LANDING_PAGE`: **home**: Целевая страница для неаутентифицированных пользователей \[home, explore, organizations, login\].

- `LFS_START_SERVER`: **false**: Включает поддержку git-lfs.
- `LFS_STORE_TYPE`: **local**: Тип хранилища для lfs, `local` для локального диска или` minio` для s3-совместимой службы хранилища объектов.
- `LFS_SERVE_DIRECT`: **false**: Позволяет драйверу хранилища перенаправлять на аутентифицированные URL-адреса для непосредственного обслуживания файлов. В настоящее время через подписанные URL-адреса поддерживается только Minio/S3, local ничего не делает.
- `LFS_CONTENT_PATH`: **./data/lfs**: Где хранить файлы LFS, доступно, только если `LFS_STORE_TYPE` на `local`.
- `LFS_MINIO_ENDPOINT`: **localhost:9000**: Конечная точка Minio для подключения доступна, только если `LFS_STORE_TYPE` на `minio`
- `LFS_MINIO_ACCESS_KEY_ID`: Minio accessKeyID для подключения доступен, только если установлен параметр `LFS_STORE_TYPE` на `minio`
- `LFS_MINIO_SECRET_ACCESS_KEY`: Minio secretAccessKey для подключения доступен, только если `LFS_STORE_TYPE` на `minio`
- `LFS_MINIO_BUCKET`: **gitea**: Сегмент Minio для хранения lfs доступен, только если `LFS_STORE_TYPE` на `minio`
- `LFS_MINIO_LOCATION`: **us-east-1**: Местоположение Minio для создания корзины доступно, только если `LFS_STORE_TYPE` на `minio`
- `LFS_MINIO_BASE_PATH`: **lfs/**: Базовый путь Minio в bucket доступен только при `LFS_STORE_TYPE` на `minio`
- `LFS_MINIO_USE_SSL`: **false**: SSL с включенным Minio доступен только при `LFS_STORE_TYPE` на `minio`
- `LFS_JWT_SECRET`: **\<empty\>**: Секрет аутентификации LFS, измените эту строку на уникальную.
- `LFS_HTTP_AUTH_EXPIRY`: **20m**: Срок действия аутентификации LFS во времени. Продолжительность, нажатие, занимающее больше времени, может завершиться ошибкой.
- `LFS_MAX_FILE_SIZE`: **0**: Максимально допустимый размер файла LFS в байтах (0 означает отсутствие ограничений).
- `LFS_LOCK_PAGING_NUM`: **50**: Максимальное количество блокировок LFS, возвращаемых на страницу.

- `REDIRECT_OTHER_PORT`: **false**: Если true и `PROTOCOL` https, позволяет перенаправлять HTTP-запросы на `PORT_TO_REDIRECT` на https-порт, который слушает Gitea.
- `PORT_TO_REDIRECT`: **80**: Порт для прослушивания службы перенаправления http. Используется, когда `REDIRECT_OTHER_PORT` стоит на true.
- `ENABLE_LETSENCRYPT`: **false**: Если этот параметр включен, вы должны установить для `DOMAIN` действительный домен с выходом в Интернет (убедитесь, что DNS установлен и порт 80 доступен для сервера проверки letsencrypt).
   Используя Lets Encrypt **вы должны согласиться** с их [условиями использования](https://letsencrypt.org/documents/LE-SA-v1.2-November-15-2017.pdf).
- `LETSENCRYPT_ACCEPTTOS`: **false**: Это явная проверка того, что вы принимаете условия использования Let's Encrypt.
- `LETSENCRYPT_DIRECTORY`: **https**: Каталог, который Letsencrypt будет использовать для кэширования информации, такой как сертификаты и закрытые ключи.
- `LETSENCRYPT_EMAIL`: **email@example.com**: Электронная почта, используемая Letsencrypt для уведомления о проблемах с выданными сертификатами. (Нет по умолчанию)
- `ALLOW_GRACEFUL_RESTARTS`: **true**: Выполните плавный перезапуск при SIGHUP
- `GRACEFUL_HAMMER_TIME`: **60s**: После перезапуска родительский процесс перестанет принимать новые подключения и разрешит выполнение запросов до остановки. Завершение работы будет принудительным, если это займет больше времени.
- `STARTUP_TIMEOUT`: **0**: Выключает сервер, если запуск занимает больше времени, чем предусмотрено. В настройках Windows хосту SVC будет отправлено сообщение о том, что запуск хоста SVC может занять некоторое время. Обратите внимание: запуск определяется открытием слушателей - HTTP/HTTPS/SSH. Индексаторы могут запускаться дольше и иметь собственные тайм-ауты.

## База данных (`database`)

- `DB_TYPE`: **mysql**: Тип используемой базы данных \[mysql, postgres, mssql, sqlite3\].
- `HOST`: **127.0.0.1:3306**: Адрес хоста базы данных и порт или абсолютный путь для сокета unix \[mysql, postgres\] (бывший: /var/run/mysqld/mysqld.sock).
- `NAME`: **gitea**: Имя базы данных.
- `USER`: **root**: Имя пользователя базы данных.
- `PASSWD`: **\<empty\>**: Пароль пользователя базы данных. Используйте \`your password\` для цитирования, если вы используете в пароле специальные символы.
- `SCHEMA`: **\<empty\>**: Только для PostgreSQL: схема для использования, если она отличается от "public". Схема должна существовать заранее, у пользователя
  должны быть права на её создание, а путь поиска пользователя должен быть настроен на просмотр схемы в первую очередь 
  (например, `ALTER USER user SET SEARCH_PATH = schema_name,"$user",public;`).
- `SSL_MODE`: **disable**: Режим шифрования SSL/TLS для подключения к базе данных. Эта опция применяется только для PostgreSQL и MySQL.
  - Допустимые значения для MySQL:
     - `true`: Включите TLS с проверкой сертификата сервера базы данных по его корневому сертификату. При выборе этого параметра убедитесь, что корневой сертификат, необходимый для проверки сертификата сервера базы данных (например, сертификат CA), находится в хранилище системных сертификатов как базы данных, так и серверов Gitea. См. Документацию к вашей системе, чтобы узнать, как добавить сертификат CA в хранилище сертификатов.
     - `false`: Отключите TLS.
     - `disable`: Псевдоним `false` для совместимости с PostgreSQL.
     - `skip-verify`: Включите TLS без проверки сертификата сервера базы данных. Используйте эту опцию, если у вас есть самоподписанный или недействительный сертификат на сервере базы данных.
     - `prefer`: Включите TLS с откатом на соединение без TLS.
  - Допустимые значения для PostgreSQL:
     - `disable`: Отключите TLS.
     - `require`: Включите TLS без каких-либо проверок.
     - `verify-ca`: Включите TLS с проверкой сертификата сервера базы данных по его корневому сертификату.
     - `verify-full`: Включите TLS и убедитесь, что имя сервера базы данных совпадает с заданным сертификатом в полях `Common Name` или `Subject Alternative Name`.
- `CHARSET`: **utf8mb4**: Только для MySQL: "utf8" или "utf8mb4". ВНИМАНИЕ: для "utf8mb4" вы должны использовать MySQL InnoDB> 5.6. Gitea не может это проверить.
- `PATH`: **data/gitea.db**: Только для SQLite3: путь к файлу базы данных.
- `LOG_SQL`: **true**: Регистрация выполненного SQL.
- `DB_RETRIES`: **10**: Сколько разрешённых попыток подключения ORM init / DB.
- `DB_RETRY_BACKOFF`: **3s**: время.Продолжительность ожидания перед другой попыткой подключения ORM init / DB, если произошла ошибка.
- `MAX_OPEN_CONNS` **0**: Максимальное количество открытых подключений к базе данных - по умолчанию 0, что означает отсутствие ограничений.
- `MAX_IDLE_CONNS` **2**: Максимальное количество неактивных соединений с базой данных в пуле соединений, по умолчанию - 2 - это будет ограничено до `MAX_OPEN_CONNS`.
- `CONN_MAX_LIFETIME` **0 или 3s**: Устанавливает максимальное количество времени, в течение которого соединение с DB может быть повторно использовано - по умолчанию 0, что означает отсутствие ограничений (кроме MySQL, где это 3 секунды - см. #6804 & #7071).
  
Пожалуйста, обратитесь к #8540 & #8273 для дальнейшего обсуждения соответствующих значений для `MAX_OPEN_CONNS`, `MAX_IDLE_CONNS` и `CONN_MAX_LIFETIME` и их
отношению к истощению порта.

## Индексатор (`indexer`)

- `ISSUE_INDEXER_TYPE`: **bleve**: Тип индексатора задач, поддерживаемый в настоящее время: `bleve`,` db` или `elasticsearch`.
- `ISSUE_INDEXER_CONN_STR`: ****: Строка подключения к индексатору задач, доступная, когда ISSUE_INDEXER_TYPE - elasticsearch. т.е. http://elastic:changeme@localhost:9200
- `ISSUE_INDEXER_NAME`: **gitea_issues**: Имя индексатора задач, доступно, если ISSUE_INDEXER_TYPE - elasticsearch
- `ISSUE_INDEXER_PATH`: **indexers/issues.bleve**: Индексный файл, используемый для поиска задачи; доступно, если ISSUE_INDEXER_TYPE имеет значение bleve и elasticsearch.
- Следующие 4 значения конфигурации устарели и должны быть установлены в `queue.issue_indexer`, однако сохранены для обратной совместимости:
- `ISSUE_INDEXER_QUEUE_TYPE`: **levelqueue**: Очередь индексатора задач, в настоящее время поддерживает:`channel`, `levelqueue`, `redis`.
- `ISSUE_INDEXER_QUEUE_DIR`: **indexers/issues.queue**:Когда `ISSUE_INDEXER_QUEUE_TYPE` равно `levelqueue`, это будет путь для сохранения очереди.
- `ISSUE_INDEXER_QUEUE_CONN_STR`: **addrs=127.0.0.1:6379 db=0**: Если `ISSUE_INDEXER_QUEUE_TYPE` - это `redis`, строка подключения redis будет сохранена.
- `ISSUE_INDEXER_QUEUE_BATCH_NUMBER`: **20**: Номер очереди пакетов.

- `REPO_INDEXER_ENABLED`: **false**: Включает поиск кода (занимает много места на диске, примерно в 6 раз больше, чем размер репозитория).
- `REPO_INDEXER_TYPE`: **bleve**: Тип поисковой системы кода, может быть `bleve` или `elasticsearch`.
- `REPO_INDEXER_PATH`: **indexers/repos.bleve**: Индексный файл, используемый для поиска кода.
- `REPO_INDEXER_CONN_STR`: ****: Строка подключения индексатора кода, доступная, если `REPO_INDEXER_TYPE` - elasticsearch. т.е. http://elastic:changeme@localhost:9200
- `REPO_INDEXER_NAME`: **gitea_codes**: Имя индексатора кода, доступно, если `REPO_INDEXER_TYPE` - elasticsearch

- `REPO_INDEXER_INCLUDE`: **empty**: Список шаблонов glob, разделённых запятыми (см. https://github.com/gobwas/glob), для **включения** в индекс. Используйте `**.txt` для сопоставления любых файлов с расширением .txt. Пустой список означает включение всех файлов.
- `REPO_INDEXER_EXCLUDE`: **empty**: Список шаблонов glob, разделённых запятыми (см. Https://github.com/gobwas/glob) для **исключения** из индекса. Файлы, соответствующие этому списку, не будут проиндексированы, даже если они совпадают в `REPO_INDEXER_INCLUDE`.
- `REPO_INDEXER_EXCLUDE_VENDORED`: **true**: Исключить vendor файлы из индекса.
- `UPDATE_BUFFER_LEN`: **20**: Длина буфера запроса индекса.
- `MAX_FILE_SIZE`: **1048576**: Максимальный размер индексируемых файлов в байтах.
- `STARTUP_TIMEOUT`: **30s**: Если для запуска индексатора требуется больше времени, чем этот таймаут - завершиться ошибкой. (Этот тайм-аут будет добавлен к указанному выше времени молотка для дочерних процессов - поскольку bleve не запустится, пока предыдущий родительский процесс не выключится.) Установите в ноль, чтобы никогда не тайм-аут.

## Очередь (`queue` и `queue.*`)

- `TYPE`: **persistable-channel**: Общий тип очереди, в настоящее время поддерживается: `persistable-channel`, `channel`, `level`, `redis`, `dummy`
- `DATADIR`: **queues/**: Базовый DataDir для хранения постоянных очередей и очередей уровня. `DATADIR` для отдельных очередей может быть установлен в секциях queue.name, но по умолчанию будет установлено значение `DATADIR/`**`name`**.
- `LENGTH`: **20**: Максимальный размер очереди до блокировки очередей каналов
- `BATCH_LENGTH`: **20**: Пакетные данные перед передачей обработчику
- `CONN_STR`: **addrs=127.0.0.1:6379 db=0**: Строка подключения для типа очереди redis.
- `QUEUE_NAME`: **_queue**: Суффикс для имени очереди redis по умолчанию. Для отдельных очередей по умолчанию используется **`name`**`QUEUE_NAME`, но их можно изменить в специальном разделе `queue.name`.
- `SET_NAME`: **_unique**: Суффикс, который будет добавлен к имени набора redis по умолчанию
  для уникальных очередей. Индивидуальные очереди по умолчанию будут **`name`**`QUEUE_NAME`_`SET_NAME`_,
  но их можно переопределить в конкретном разделе `queue.name`.
- `WRAP_IF_NECESSARY`: **true**: Будет заключать очереди в очередь с тайм-аутом, если выбранная очередь не готова к созданию - (актуально только для очереди уровня).
- `MAX_ATTEMPTS`: **10**: Максимальное количество попыток создания очереди с переносом
- `TIMEOUT`: **GRACEFUL_HAMMER_TIME + 30s**: Тайм-аут создания обёрнутой очереди, если для её создания требуется больше времени.
- По умолчанию очереди имеют динамически масштабируемый пул рабочих. Следующие параметры настраивают это:
- `WORKERS`: **1**: Количество начальных рабочих для очереди.
- `MAX_WORKERS`: **10**: Maximum number of worker go-routines for the queue.
- `BLOCK_TIMEOUT`: **1s**: Если очередь блокируется на это время, увеличьте количество рабочих - затем `BLOCK_TIMEOUT` будет удвоен перед повторным усилением, пока повышение продолжается.
- `BOOST_TIMEOUT`: **5m**: По истечении этого времени рабочие Boost будут отключены.
- `BOOST_WORKERS`: **5**: Это количество рабочих будет добавлено в пул рабочих, если будет Boost.

## Админ (`admin`)
- `DEFAULT_EMAIL_NOTIFICATIONS`: **enabled**: Конфигурация по умолчанию для уведомлений по электронной почте для пользователей (настраивается пользователем). Варианты: enabled, onmention, disabled

## Безопасность (`security`)

- `INSTALL_LOCK`: **false**: Запретить доступ к странице установки.
- `SECRET_KEY`: **\<random at every install\>**: Глобальный секретный ключ. Это следует изменить.
- `LOGIN_REMEMBER_DAYS`: **7**: Время жизни cookie в днях.
- `COOKIE_USERNAME`: **gitea\_awesome**: Имя файла cookie, используемого для хранения текущего имени пользователя.
- `COOKIE_REMEMBER_NAME`: **gitea\_incredible**: Имя файла cookie, используемого для хранения
   информации аутентификации.
- `REVERSE_PROXY_AUTHENTICATION_USER`: **X-WEBAUTH-USER**: Имя заголовка для проверки
   подлинности обратного прокси.
- `REVERSE_PROXY_AUTHENTICATION_EMAIL`: **X-WEBAUTH-EMAIL**: Имя заголовка для проверки
   подлинности обратного прокси, предоставленное электронным письмом.
- `DISABLE_GIT_HOOKS`: **false**: Установите значение true, чтобы запретить всем пользователям
  (включая администратора) создавать пользовательские git-hook'и.
- `ONLY_ALLOW_PUSH_IF_GITEA_ENVIRONMENT_SET`: **true**: Установите значение `false`, чтобы разрешить локальным пользователям отправлять сообщения в репозитории gitea без настройки среды Gitea. Это не рекомендуется, и если вы хотите, чтобы локальные пользователи отправляли файлы в репозитории gitea, вам следует соответствующим образом настроить среду.
- `IMPORT_LOCAL_PATHS`: **false**: Установите значение `false`, чтобы запретить всем пользователям (включая администратора) импортировать локальный путь на сервере.
- `INTERNAL_TOKEN`: **\<random at every install if no uri set\>**: Секрет, используемый для проверки связи в двоичном файле Gitea.
- `INTERNAL_TOKEN_URI`: **<empty>**: Вместо определения внутреннего токена в конфигурации этот параметр конфигурации можно использовать, чтобы указать Gitea путь к файлу, который содержит внутренний токен (пример значения: `file:/etc/gitea/internal_token`)
- `PASSWORD_HASH_ALGO`: **argon2**: Используемый алгоритм хеширования \[argon2, pbkdf2, scrypt, bcrypt\].
- `CSRF_COOKIE_HTTP_ONLY`: **true**: Установите false, чтобы разрешить JavaScript читать файл cookie CSRF.
- `PASSWORD_COMPLEXITY`: **off**: Установите false, чтобы разрешить JavaScript читать файл cookie CSRF. Разделенный запятыми список классов символов, необходимых для прохождения минимальной сложности. Если оставлено пустым или не указаны допустимые значения, проверка отключена (выкл.):
    - lower - используйте один или несколько нижних латинских символов
    - upper - используйте один или несколько заглавных латинских символов
    - digit - используйте одну или несколько цифр
    - spec - используйте один или несколько специальных символов как ``!"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~``
    - off - не проверять сложность пароля
- `PASSWORD_CHECK_PWN`: **false**: Прочтите [HaveIBeenPwned] (https://haveibeenpwned.com/Passwords), чтобы узнать, не был ли открыт пароль.

## OpenID (`openid`)

- `ENABLE_OPENID_SIGNIN`: **false**: Разрешить аутентификацию через OpenID.
- `ENABLE_OPENID_SIGNUP`: **! DISABLE\_REGISTRATION**: Разрешить регистрацию через OpenID.
- `WHITELISTED_URIS`: **\<empty\>**: Если не пусто, список разрешённых шаблонов регулярных
   выражений POSIX, соответствующих OpenID URI.
- `BLACKLISTED_URIS`: **\<empty\>**: Если не пусто, список шаблонов регулярных выражений
   POSIX, соответствующих URI OpenID для блокировки.

## Обслуживание (`service`)

- `ACTIVE_CODE_LIVE_MINUTES`: **180**: Срок (мин) для подтверждения регистрации учётной записи/электронной почты.
- `RESET_PASSWD_CODE_LIVE_MINUTES`: **180**: Ограничение времени (мин) для подтверждения процесса сброса
   забытого пароля.
- `REGISTER_EMAIL_CONFIRM`: **false**: Включите это, чтобы запрашивать подтверждение регистрации по электронной почте.
   Требуется включить `Mailer`.
- `DISABLE_REGISTRATION`: **false**: Отключить регистрацию, после чего только администратор сможет
   создавать учётные записи для пользователей.
- `REQUIRE_EXTERNAL_REGISTRATION_PASSWORD`: **false**: Включите этот параметр, чтобы внешние учетные записи
  (через GitHub, OpenID Connect и т.д.) Создавали пароль. Предупреждение: включение этого параметра снизит
  безопасность, поэтому вам следует включать его только в том случае, если вы знаете, что делаете.
- `REQUIRE_SIGNIN_VIEW`: **false**: Включите это, чтобы заставить пользователей входить в систему для просмотра любой страницы или использования API.
- `ENABLE_NOTIFY_MAIL`: **false**: Включите этот параметр, чтобы отправлять электронную почту
  наблюдателям за репозиторием, когда что-то происходит, например, при создании задач. Требуется включить `Mailer`.
- `ENABLE_BASIC_AUTHENTICATION`: **true**: Отключите это, чтобы запретить аутентификацию с использованием HTTP
  BASIC и пароля пользователя. Обратите внимание, что если вы отключите это, вы не сможете получить доступ к
  конечным точкам API токенов с помощью пароля. Кроме того, это отключает только BASIC-аутентификацию с использованием
  пароля - но не токенов или OAuth Basic.
- `ENABLE_REVERSE_PROXY_AUTHENTICATION`: **false**: Включите этот параметр, чтобы разрешить проверку подлинности обратного прокси.
- `ENABLE_REVERSE_PROXY_AUTO_REGISTRATION`: **false**: Включите это, чтобы разрешить автоматическую
  регистрацию для обратной аутентификации.
- `ENABLE_REVERSE_PROXY_EMAIL`: **false**: Включите это, чтобы разрешить автоматическую регистрацию
  с предоставленным адресом электронной почты, а не сгенерированным.
- `ENABLE_CAPTCHA`: **false**: Включите это, чтобы использовать проверку капчи для регистрации.
- `REQUIRE_EXTERNAL_REGISTRATION_CAPTCHA`: **false**: Включите это, чтобы принудительно проверять
  капчу даже для внешних учётных записей (например, GitHub, OpenID Connect и т.д.). Вы также должны `ENABLE_CAPTCHA`.
- `CAPTCHA_TYPE`: **image**: \[image, recaptcha\]
- `RECAPTCHA_SECRET`: **""**: Перейдите на страницу https://www.google.com/recaptcha/admin, чтобы получить секрет для рекапчи.
- `RECAPTCHA_SITEKEY`: **""**: Перейдите на https://www.google.com/recaptcha/admin, чтобы получить ключ сайта для рекапчи.
- `RECAPTCHA_URL`: **https://www.google.com/recaptcha/**: Установить url рекапчи - разрешает использование сети рекапчи.
- `DEFAULT_ENABLE_DEPENDENCIES`: **true**: Включите это, чтобы по умолчанию были включены зависимости.
- `ALLOW_CROSS_REPOSITORY_DEPENDENCIES` : **true** Включите это, чтобы разрешить зависимости от задач из любого репозитория, к которому пользователю предоставлен доступ.
- `ENABLE_USER_HEATMAP`: **true**: Включите этот параметр, чтобы отображать тепловую карту в профилях пользователей.
- `EMAIL_DOMAIN_WHITELIST`: **\<empty\>**: Если не пусто, список доменных имен, которые можно использовать
  только для регистрации на этом экземпляре.
- `SHOW_REGISTRATION_BUTTON`: **! DISABLE\_REGISTRATION**: Показать кнопку регистрации
- `SHOW_MILESTONES_DASHBOARD_PAGE`: **true** Включите этот параметр, чтобы отобразить страницу панели мониторинга этапов - просмотр всех этапов работы пользователя.
- `AUTO_WATCH_NEW_REPOS`: **true**: Включите этот параметр, чтобы позволить всем пользователям организации просматривать новые репозитории при их создании.
- `AUTO_WATCH_ON_CHANGES`: **false**: Включите это, чтобы пользователи следили за репозиторием после их первого коммита в нём.
- `DEFAULT_ORG_VISIBILITY`: **public**: Установите режим видимости по умолчанию для организаций: "public", "limited" или "private".
- `DEFAULT_ORG_MEMBER_VISIBLE`: **false** Значение True сделает членство пользователей видимым при добавлении в организацию.
- `ALLOW_ONLY_EXTERNAL_REGISTRATION`: **false** Установите значение true для принудительной регистрации только с использованием сторонних служб.
- `NO_REPLY_ADDRESS`: **DOMAIN** Значение по умолчанию для доменной части адреса электронной почты пользователя в журнале git, если он установил для KeepEmailPrivate значение true.
  Электронная почта пользователя будет заменена конкатенацией имени пользователя в нижнем регистре, "@" и NO_REPLY_ADDRESS.

## Вебхуки (`webhook`)

- `QUEUE_LENGTH`: **1000**: Длина очереди задач вебхука. Будьте осторожны при редактировании этого значения.
- `DELIVER_TIMEOUT`: **5**: Таймаут доставки (сек) для стрельбы вебхуков.
- `SKIP_TLS_VERIFY`: **false**: Разрешить небезопасную сертификацию.
- `PAGING_NUM`: **10**: Количество событий истории вебхуков, отображаемых на одной странице.
- `PROXY_URL`: ****: URL прокси-сервера, поддержка http://, https//, socks://, пустой будет следовать за средой http_proxy/https_proxy
- `PROXY_HOSTS`: ****: Список имён хостов, разделённых запятыми, для которых требуется прокси. Допускаются шаблоны Glob'ов (*) используйте ** для соответствия всем хостам.

## Mailer (`mailer`)

- `ENABLED`: **false**: Разрешить использование почтовой службы.
- `DISABLE_HELO`: **\<empty\>**: Отключить работу HELO.
- `HELO_HOSTNAME`: **\<empty\>**: Пользовательское имя хоста для работы HELO.
- `HOST`: **\<empty\>**: SАдрес и порт почтового хоста MTP (пример: smtp.gitea.io:587).
  - Согласно RFC 6409 рекомендуется использование гибкого TLS через STARTTLS на порту 587.
- `IS_TLS_ENABLED` :  **false** : Принудительно используйте TLS для подключения, даже если не используется порт SMTPS по умолчанию.
  - Обратите внимание: если порт заканчивается на `465`, SMTPS/SMTP через TLS будет использоваться, несмотря на этот параметр.
  - В противном случае, если `IS_TLS_ENABLED=false` и сервер поддерживает `STARTTLS`, это будет использоваться. Таким образом, если вы предпочитаете `STARTTLS`, вы должны установить `IS_TLS_ENABLED=false`.
- `FROM`: **\<empty\>**: Почта с адреса, RFC 5322. Это может быть просто адрес электронной почты или
   формат "Имя" \<email@example.com\>.
- `USER`: **\<empty\>**: Имя пользователя рассылки (обычно адрес электронной почты отправителя).
- `PASSWD`: **\<empty\>**: Пароль пользователя рассылки. Используйте \`ваш пароль\` для цитирования, если вы используете в пароле специальные символы.
   - Обратите внимание: проверка подлинности поддерживается только в том случае, если связь с SMTP-сервером зашифрована с помощью TLS (это может быть через `STARTTLS`) или `HOST=localhost`. Обратитесь к [Email Setup]({{< relref "doc/usage/email-setup.en-us.md" >}}) для большей информации.
- `SKIP_VERIFY`: **false**: Следует ли пропускать проверку сертификатов; `true`, чтобы отключить проверку.
   - **Warning:** Этот вариант небезопасен. Вместо этого рассмотрите возможность добавления сертификата в системное хранилище доверенных сертификатов.
   - **Note:** Gitea поддерживает только SMTP с STARTTLS.
- `SUBJECT_PREFIX`: **\<empty\>**: Префикс, который ставится перед строкой темы электронного письма.
- `MAILER_TYPE`: **smtp**: \[smtp, sendmail, dummy\]
   - **smtp** Использовать SMTP для отправки почты
   - **sendmail** Используйте команду операционной системы `sendmail` вместо SMTP.
   Это распространено в системах Linux.
   - **dummy** Отправляйте сообщения электронной почты в журнал на этапе тестирования.
   - Обратите внимание, что при включении sendmail все остальные настройки `mailer`, кроме `ENABLED`,
     `FROM`, `SUBJECT_PREFIX` и `SENDMAIL_PATH`.
   - Включение манекена игнорирует все настройки, кроме `ENABLED`, `SUBJECT_PREFIX` и `FROM`.
- `SENDMAIL_PATH`: **sendmail**: Расположение sendmail в операционной системе (может быть
   командой или полным путём).
- `SENDMAIL_TIMEOUT`: **5m**: таймаут по умолчанию для отправки электронной почты через sendmail

## Кеш (`cache`)

- `ENABLED`: **true**: Включите кеш.
- `ADAPTER`: **memory**: Адаптер механизма кэширования, либо `memory`, `redis`, или `memcache`.
- `INTERVAL`: **60**: Интервал сборки мусора (сек), только для кеш-памяти.
- `HOST`: **\<empty\>**: Строка подключения для `redis` и `memcache`.
   - Redis: `network=tcp,addr=127.0.0.1:6379,password=macaron,db=0,pool_size=100,idle_timeout=180`
   - Memcache: `127.0.0.1:9090;127.0.0.1:9091`
- `ITEM_TTL`: **16h**: Время до сохранения элементов в кеше, если они не используются. Установка значения 0 отключает кеширование.

## Кеш - Настройки LastCommitCache (`cache.last_commit`)

- `ENABLED`: **true**: Включите кеш.
- `ITEM_TTL`: **8760h**: Время до сохранения элементов в кеше, если они не используются. Установка значения 0 отключает кеширование.
- `COMMITS_COUNT`: **1000**: Включайте кеш только тогда, когда количество коммитов в репозиториях превышает.

## Сессия (`session`)

- `PROVIDER`: **memory**: Провайдер механизма сеанса \[memory, file, redis, mysql, couchbase, memcache, nodb, postgres\].
- `PROVIDER_CONFIG`: **data/sessions**: Для файла - корневой путь; для других - строка подключения.
- `COOKIE_SECURE`: **false**: Включите это, чтобы принудительно использовать HTTPS для всего сеансового доступа.
- `COOKIE_NAME`: **i\_like\_gitea**: Имя файла cookie, используемого для идентификатора сеанса.
- `GC_INTERVAL_TIME`: **86400**: Интервал GC в секундах.

## Изображение (`picture`)

- `GRAVATAR_SOURCE`: **gravatar**: Может быть `gravatar`, `duoshuo` или что-нибудь как
   `http://cn.gravatar.com/avatar/`.
- `DISABLE_GRAVATAR`: **false**: Включите это, чтобы использовать только локальные аватары.
- `ENABLE_FEDERATED_AVATAR`: **false**: Включите поддержку федеративных аватаров (см.
   [http://www.libravatar.org](http://www.libravatar.org)).
- `AVATAR_UPLOAD_PATH`: **data/avatars**: Путь для хранения файлов изображений аватара пользователя.
- `REPOSITORY_AVATAR_UPLOAD_PATH`: **data/repo-avatars**: Путь к хранилищу файлов изображений аватаров.
- `REPOSITORY_AVATAR_FALLBACK`: **none**: Как Gitea справляется с отсутствующими аватарами репозитория
  - none = аватар не будет отображаться
  - random = будет сгенерирован случайный аватар
  - image = будет использоваться изображение по умолчанию (установленное в `REPOSITORY_AVATAR_DEFAULT_IMAGE`)
- `REPOSITORY_AVATAR_FALLBACK_IMAGE`: **/img/repo_default.png**: Изображение используется в качестве аватара репозитория по умолчанию (если `REPOSITORY_AVATAR_FALLBACK` установлен на изображение, и ничего не было загружено)
- `AVATAR_MAX_WIDTH`: **4096**: Максимальная ширина изображения аватара в пикселях.
- `AVATAR_MAX_HEIGHT`: **3072**: Максимальная высота изображения аватара в пикселях.
- `AVATAR_MAX_FILE_SIZE`: **1048576** (1Мб): Максимальный размер файла изображения аватара в байтах.

## Вложение (`attachment`)

- `ENABLED`: **true**: Включите это, чтобы разрешить загрузку вложений.(файлов и изображений)
- `ALLOWED_TYPES`: **see app.example.ini**: Разрешённые типы MIME, например `image/jpeg|image/png`.
   Используйте `*/*` для всех типов.
- `MAX_SIZE`: **4**: Максимальный размер (МБ).
- `MAX_FILES`: **5**: Максимальное количество вложений, которые можно загрузить за раз.
- `STORE_TYPE`: **local**: Тип хранилища для вложений: `local` для локального диска или `minio` для s3-совместимой службы хранения объектов, по умолчанию `local`.
- `SERVE_DIRECT`: **false**: Позволяет драйверу хранилища перенаправлять на аутентифицированные URL-адреса для непосредственного обслуживания файлов. В настоящее время через подписанные URL-адреса поддерживается только Minio/S3, local ничего не делает.
- `PATH`: **data/attachments**: Путь к хранилищу вложений доступен, только если STORE_TYPE - `local`
- `MINIO_ENDPOINT`: **localhost:9000**: Конечная точка Minio для подключения доступна, только если STORE_TYPE - `minio`
- `MINIO_ACCESS_KEY_ID`: Minio accessKeyID для подключения доступен, только если STORE_TYPE - `minio`
- `MINIO_SECRET_ACCESS_KEY`: Minio secretAccessKey для подключения доступен, только если STORE_TYPE - `minio`
- `MINIO_BUCKET`: **gitea**: Сегмент Minio для хранения вложений доступен, только если STORE_TYPE - `minio`
- `MINIO_LOCATION`: **us-east-1**: Местоположение Minio для создания корзины доступно, только если STORE_TYPE - `minio`
- `MINIO_BASE_PATH`: **attachments/**: Базовый путь Minio в сегменте доступен, только если STORE_TYPE - `minio`
- `MINIO_USE_SSL`: **false**: SSL с поддержкой Minio доступен, только если STORE_TYPE - `minio`

## Журнал (`log`)

- `ROOT_PATH`: **\<empty\>**: Корневой путь для файлов журнала.
- `MODE`: **console**: Режим журналирования. Для нескольких режимов используйте запятую для разделения значений. Вы можете настроить каждый режим в подразделах журнала режимов. `\[log.modename\]`. По умолчанию файловый режим регистрируется в `$ROOT_PATH/gitea.log`.
- `LEVEL`: **Info**: Уровень общего журнала. \[Trace, Debug, Info, Warn, Error, Critical, Fatal, None\]
- `STACKTRACE_LEVEL`: **None**: Уровень журнала по умолчанию, на котором регистрируются трассировки \[Trace, Debug, Info, Warn, Error, Critical, Fatal, None\]
- `REDIRECT_MACARON_LOG`: **false**: Перенаправляет журнал Macaron в собственное средство ведения журнала или средство ведения журнала по умолчанию.
- `MACARON`: **file**: Режим журналирования для Macaron Logger, используйте запятую для разделения значений. Настройте каждый режим в разделах журнала режимов `\[log.modename.macaron\]`. По умолчанию файловый режим регистрируется в `$ROOT_PATH/macaron.log`. (Если вы установите для этого параметра значение `,` он будет регистрироваться в gitea logger по умолчанию.)
- `ROUTER_LOG_LEVEL`: **Info**: Уровень журнала, на котором должен входить маршрутизатор. (Если вы настраиваете журнал доступа, рекомендуется поместить его в Debug.)
- `ROUTER`: **console**: Режим или имя журнала, в который должен входить маршрутизатор. (Если вы установите это на `,` он будет регистрироваться в gitea logger по умолчанию.)
NB: Вы должны `REDIRECT_MACARON_LOG` и` DISABLE_ROUTER_LOG` установить в `false`, чтобы эта опция вступила в силу. Настройте каждый режим в разделах журнала режимов `\[log.modename.router\]`.
- `ENABLE_ACCESS_LOG`: **false**: Создаёт access.log в формате общего журнала NCSA или в соответствии со следующим шаблоном
- `ACCESS`: **file**: Режим регистрации для регистратора доступа, используйте запятую для разделения значений. Настройте каждый режим в разделах журнала режимов `\[log.modename.access\]`. По умолчанию файловый режим регистрируется в `$ROOT_PATH/access.log`. (Если вы установите для него значение `,` он будет регистрироваться в журнале gitea по умолчанию.)
- `ACCESS_LOG_TEMPLATE`: **`{{.Ctx.RemoteAddr}} - {{.Identity}} {{.Start.Format "[02/Jan/2006:15:04:05 -0700]" }} "{{.Ctx.Req.Method}} {{.Ctx.Req.URL.RequestURI}} {{.Ctx.Req.Proto}}" {{.ResponseWriter.Status}} {{.ResponseWriter.Size}} "{{.Ctx.Req.Referer}}\" \"{{.Ctx.Req.UserAgent}}"`**: Устанавливает шаблон, используемый для создания журнала доступа.
  - Доступны следующие переменные:
  - `Ctx`: `macaron.Context` запроса.
  - `Identity`: SignedUserName или `"-"`, если не вошли в систему.
  - `Start`: время начала запроса.
  - `ResponseWriter`: responseWriter из запроса.
  - Вы должны быть очень осторожны, чтобы убедиться, что этот шаблон не вызывает ошибок или паники, поскольку этот шаблон работает вне сценария паники/восстановления.
- `ENABLE_XORM_LOG`: **true**: Укажите, следует ли выполнять ведение журнала XORM. Обратите внимание: ведение журнала операторов SQL можно отключить, установив для параметра `LOG_SQL` значение false в разделе `[database]`.

### Подразделы журнала (`log.name`, `log.name.*`)

- `LEVEL`: **log.LEVEL**: Устанавливает уровень журнала этого подлоггера. По умолчанию используется `LEVEL`, установленный в глобальной секции`[log]`.
- `STACKTRACE_LEVEL`: **log.STACKTRACE_LEVEL**: Устанавливает уровень журнала, на котором должны регистрироваться трассировки.
- `MODE`: **name**: Устанавливает режим этого подлоггера - по умолчанию используется указанное имя подраздела. Это позволяет иметь два разных регистратора файлов на разных уровнях.
- `EXPRESSION`: **""**: Регулярное выражение, соответствующее имени функции, файлу или сообщению. По умолчанию пусто. В регистраторе будут сохраняться только сообщения журнала, соответствующие выражению.
- `FLAGS`: **stdflags**: Разделенная запятыми строка, представляющая флаги журнала. По умолчанию используется `stdflags`, который представляет префикс: `2009/01/23 01:23:23 ...a/b/c/d.go:23:runtime.Caller() [I]: message`. `none` означает, что строки журнала не префикс. Обратитесь `modules/log/base.go` для большей информации.
- `PREFIX`: **""**: Дополнительный префикс для каждой строки журнала в этом регистраторе. По умолчанию пусто.
- `COLORIZE`: **false**: Раскрашиваем строки журнала по умолчанию

### Консольный режим журнала (`log.console`, `log.console.*`, и `MODE=console`)

- Для логгера консоли `COLORIZE` по умолчанию будет иметь значение `true`, если не в Windows или терминал определён как способный раскрашивать.
- `STDERR`: **false**: Используйте Stderr вместо Stdout.

### Режим журнала файлов (`log.file`, `log.file.*` или `MODE=file`)

- `FILE_NAME`: Задайте имя файла для этого регистратора. По умолчанию, как описано выше. Если родственник будет относиться к `ROOT_PATH`
- `LOG_ROTATE`: **true**: Поверните файлы журнала.
- `MAX_SIZE_SHIFT`: **28**: Максимальный сдвиг размера одного файла, 28 представляет 256 МБ.
- `DAILY_ROTATE`: **true**: Ежедневно менять журналы.
- `MAX_DAYS`: **7**: Удалить файл журнала через х дней
- `COMPRESS`: **true**: Сжимайте старые файлы журналов по умолчанию с помощью gzip
- `COMPRESSION_LEVEL`: **-1**: Уровень сжатия

### Режим журнала подключений (`log.conn`, `log.conn.*` или `MODE=conn`)

- `RECONNECT_ON_MSG`: **false**: Повторно подключайте хост для каждого сообщения.
- `RECONNECT`: **false**: Попытайтесь восстановить соединение, когда соединение потеряно.
- `PROTOCOL`: **tcp**: Установите протокол либо "tcp", "unix" или "udp".
- `ADDR`: **:7020**: Устанавливает адрес для подключения.

### Режим журнала SMTP (`log.smtp`, `log.smtp.*` или `MODE=smtp`)

- `USER`: Адрес электронной почты пользователя для отправки.
- `PASSWD`: Пароль для smtp сервера.
- `HOST`: **127.0.0.1:25**: Хост SMTP, к которому нужно подключиться.
- `RECEIVERS`: Адреса электронной почты для отправки.
- `SUBJECT`: **Диагностическое сообщение от Gitea**

## Cron (`cron`)

- `ENABLED`: **true**: Периодически запускайте задачи cron.
- `RUN_AT_START`: **false**: Запускать задачи cron при запуске приложения.

### Cron - Очистить старые архивы репозитория (`cron.archive_cleanup`)

- `ENABLED`: **true**: Включить службу.
- `RUN_AT_START`: **true**: Запускать задачи во время запуска (если ENABLED).
- `SCHEDULE`: **@every 24h**: Синтаксис Cron для планирования очистки архива репозитория, например `@every 1h`.
- `OLDER_THAN`: **24h**: Архивы, созданные более `OLDER_THAN` назад, подлежат удалению, например `12h`.

### Cron - Обновить зеркала (`cron.update_mirrors`)

- `SCHEDULE`: **@every 10m**: Синтаксис Cron для планирования зеркал обновлений, например `@every 3h`.

### Cron - Проверка работоспособности репозитория (`cron.repo_health_check`)

- `SCHEDULE`: **@every 24h**: Синтаксис Cron для планирования проверки работоспособности репозитория.
- `TIMEOUT`: **60s**: Синтаксис длительности времени для тайм-аута выполнения проверки работоспособности.
- `ARGS`: **\<empty\>**: Аргументы для команды `git fsck`, например `--unreachable --tags`. Смотрите больше на http://git-scm.com/docs/git-fsck

### Cron - Проверка статистики репозитория (`cron.check_repo_stats`)

- `RUN_AT_START`: **true**: Запустить проверку статистики репозитория при запуске.
- `SCHEDULE`: **@every 24h**: Синтаксис Cron для планирования проверки статистики репозитория.

### Cron - Обновить идентификатор миграционного плаката (`cron.update_migration_poster_id`)

- `SCHEDULE`: **@every 24h** : Интервал как продолжительность между каждой синхронизацией, он всегда будет пытаться выполнить синхронизацию при запуске экземпляра.

## Git (`git`)

- `PATH`: **""**: Путь к исполняемому файлу git. Если пусто, Gitea просматривает среду PATH.
- `MAX_GIT_DIFF_LINES`: **100**: Максимальное количество строк в одном файле в режиме просмотра различий.
- `MAX_GIT_DIFF_LINE_CHARACTERS`: **5000**: Максимальное количество символов в строке, выделенной в режиме просмотра различий.
- `MAX_GIT_DIFF_FILES`: **100**: Максимальное количество файлов, отображаемых в режиме просмотра различий.
- `GC_ARGS`: **\<empty\>**: Аргументы для команды `git gc`, например `--aggressive --auto`. Смотрите больше на http://git-scm.com/docs/git-gc/
- `ENABLE_AUTO_GIT_WIRE_PROTOCOL`: **true**: Если использовать git wire protocol version 2, когда git version >= 2.18, по умолчанию true, установите значение false, если вы всегда хотите git wire protocol version 1
- `PULL_REQUEST_PUSH_MESSAGE`: **true**: Отвечайте на отправку в ветку, отличную от стандартной, с URL-адресом для создания pull request'а (если в репозитории они включены)
- `VERBOSE_PUSH`: **true**: Распечатать информацию о статусе push-уведомлений по мере их обработки.
- `VERBOSE_PUSH_DELAY`: **5s**: Распечатать только подробную информацию, если отправка занимает больше времени, чем эта задержка.

## Git - Настройки тайм-аута (`git.timeout`)
- `DEFAUlT`: **360**: Время ожидания операций git по умолчанию в секундах.
- `MIGRATE`: **600**: Время ожидания миграции внешних репозиториев в секундах.
- `MIRROR`: **300**: Время ожидания в секундах для зеркального отображения внешних репозиториев.
- `CLONE`: **300**: Git clone из внутренних репозиториев, время ожидания секунд.
- `PULL`: **300**: Git pull из внутренних репозиториев время ожидания в секундах.
- `GC`: **60**: Время ожидания сборки мусора в репозитории Git в секундах.

## Метрики (`metrics`)

- `ENABLED`: **false**: Включает конечную точку /metrics для prometheus.
- `TOKEN`: **\<empty\>**: Вам нужно указать токен, если вы хотите включить в авторизацию метрики. Тот же токен необходимо использовать в параметрах прометея. `bearer_token` или `bearer_token_file`.

## API (`api`)

- `ENABLE_SWAGGER`: **true**: Включает конечные точки /api/swagger, /api/v1/swagger и т.д. true или false; по умолчанию true.
- `MAX_RESPONSE_ITEMS`: **50**: Максимальное количество элементов на странице.
- `DEFAULT_PAGING_NUM`: **30**: Номер подкачки API по умолчанию.
- `DEFAULT_GIT_TREES_PER_PAGE`: **1000**: По умолчанию и максимальное количество элементов на странице для API git tree.
- `DEFAULT_MAX_BLOB_SIZE`: **10485760**: Максимальный размер большого двоичного объекта по умолчанию, который может быть возвращён API больших двоичных объектов.

## OAuth2 (`oauth2`)

- `ENABLE`: **true**: Включает провайдера OAuth2.
- `ACCESS_TOKEN_EXPIRATION_TIME`: **3600**: Время жизни токена доступа OAuth2 в секундах
- `REFRESH_TOKEN_EXPIRATION_TIME`: **730**: Время жизни токена обновления OAuth2 в часах
- `INVALIDATE_REFRESH_TOKEN`: **false**: Проверьте, использовался ли токен обновления
- `JWT_SECRET`: **\<empty\>**: Секрет аутентификации OAuth2 для токенов доступа и обновления, измените эту строку на уникальную.
- `MAX_TOKEN_LENGTH`: **32767**: Максимальная длина токена/файла cookie, принимаемого от провайдера OAuth2

## i18n (`i18n`)

- `LANGS`: **en-US,zh-CN,zh-HK,zh-TW,de-DE,fr-FR,nl-NL,lv-LV,ru-RU,ja-JP,es-ES,pt-BR,pt-PT,pl-PL,bg-BG,it-IT,fi-FI,tr-TR,cs-CZ,sr-SP,sv-SE,ko-KR**: Список языков, отображаемых в выборе языков
- `NAMES`: **English,简体中文,繁體中文（香港）,繁體中文（台灣）,Deutsch,français,Nederlands,latviešu,русский,日本語,español,português do Brasil,Português de Portugal,polski,български,italiano,suomi,Türkçe,čeština,српски,svenska,한국어**: Видимые имена, соответствующие регионам

## U2F (`U2F`)
- `APP_ID`: **`ROOT_URL`**: Объявляет грань приложения. Требуется HTTPS.
- `TRUSTED_FACETS`: Список дополнительных аспектов, которым можно доверять. Это поддерживается не всеми браузерами.

## Разметка (`markup`)

Gitea может поддерживать разметку с помощью внешних инструментов. В приведённом ниже примере будет добавлена разметка с именем `asciidoc`.

```ini
[markup.asciidoc]
ENABLED = true
FILE_EXTENSIONS = .adoc,.asciidoc
RENDER_COMMAND = "asciidoc --out-file=- -"
IS_INPUT_FILE = false
```

- ENABLED: **false** Включить поддержку разметки; установите значение **true**, чтобы включить это средство визуализации.
- FILE\_EXTENSIONS: **\<empty\>** Список расширений файлов, которые должны отображаться внешней
  командой. Для нескольких расширений нужна запятая как разделитель.
- RENDER\_COMMAND: Внешняя команда для визуализации всех подходящих расширений.
- IS\_INPUT\_FILE: **false** Ввод не является стандартным вводом, но следует параметр файла `RENDER_COMMAND`.

Команде рендеринга передаются две специальные переменные среды:
- `GITEA_PREFIX_SRC`, который содержит текущий префикс URL в дереве путей `src`. Используется как префикс для ссылок.
- `GITEA_PREFIX_RAW`, который содержит текущий префикс URL в дереве путей `raw`. Используется в качестве префикса для путей к изображениям.


Gitea поддерживает настройку политики очистки для отображаемого HTML. В приведённом ниже примере будет поддерживаться вывод KaTeX из pandoc.

```ini
[markup.sanitizer.TeX]
; Pandoc renders TeX segments as <span>s with the "math" class, optionally
; with "inline" or "display" classes depending on context.
ELEMENT = span
ALLOW_ATTR = class
REGEXP = ^\s*((math(\s+|$)|inline(\s+|$)|display(\s+|$)))+
```

 - `ELEMENT`: Элемент, к которому применяется эта политика. Не должно быть пустым.
 - `ALLOW_ATTR`: Атрибут, разрешённый этой политикой. Не должно быть пустым.
 - `REGEXP`: Регулярное выражение, с которым сравнивается содержимое атрибута. Должен присутствовать, но может быть пустым для безусловного внесения этого атрибута в белый список.

Можно определить несколько правил очистки, добавив уникальные подразделы, например `[markup.sanitizer.TeX-2]`.

## Время (`time`)

- `FORMAT`: Формат времени для отображения в пользовательском интерфейсе. т.е. RFC1123 или 2006-01-02 15:04:05
- `DEFAULT_UI_LOCATION`: Расположение времени по умолчанию в пользовательском интерфейсе, чтобы мы могли отображать правильное время пользователя в пользовательском интерфейсе. т.е. Shanghai/Asia

## Задача (`task`)

Конфигурация очереди задач перенесена в `queue.task`. Однако приведённые ниже значения конфигурации сохранены для обратной совместимости.:

- `QUEUE_TYPE`: **channel**: Тип очереди задач, может быть `channel` или `redis`.
- `QUEUE_LENGTH`: **1000**: Длина очереди задач, доступна, только если `QUEUE_TYPE` - это `channel`.
- `QUEUE_CONN_STR`: **addrs=127.0.0.1:6379 db=0**: Строка подключения к очереди задач, доступна только если `QUEUE_TYPE` - это `redis`. Если Redis нужен пароль, используйте `addrs=127.0.0.1:6379 password=123 db=0`.

## Миграции (`migrations`)

- `MAX_ATTEMPTS`: **3**: Максимальное количество попыток на запрос http/https при миграции.
- `RETRY_BACKOFF`: **3**: Время отката на повторную попытку запроса http/https (секунды)

## Другое (`other`)

- `SHOW_FOOTER_BRANDING`: **false**: Показывать брендинг Gitea в нижнем колонтитуле.
- `SHOW_FOOTER_VERSION`: **true**: Показывать информацию о версии Gitea в нижнем колонтитуле.
- `SHOW_FOOTER_TEMPLATE_LOAD_TIME`: **true**: Показывать время выполнения шаблона в нижнем колонтитуле.
